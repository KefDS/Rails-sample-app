<!-- How does Rails know to use a POST request for new users and a PATCH for editing users? The
answer is that it is possible to tell whether a user is new or already exists in the
database via Active Recordâ€™s new_record? boolean method -->

<% provide(:title, "Edit user") %>
<h1>Update your profile</h1>

<div class="row">
	<div class="col-md-6 col-md-offset-3">
		<%= form_for(@user) do |f| %>
		<%= render 'shared/error_messages' %>
		<%= f.label :name %>
		<%= f.text_field :name, class: 'form-control' %>
		<%= f.label :email %>
		<%= f.email_field :email, class: 'form-control' %>
		<%= f.label :password %>
		<%= f.password_field :password, class: 'form-control' %>
		<%= f.label :password_confirmation, "Confirmation" %>
		<%= f.password_field :password_confirmation, class: 'form-control' %>
		<%= f.submit "Save changes", class: "btn btn-primary" %>
		<% end %>

		<div class="gravatar_edit">
			<!-- target=_blank in the Gravatar link is a
			neat trick to get the browser to open the page in a new window or tab, which is
			convenient behavior when linking to a third-party site. -->
			<%= gravatar_for @user %>
			<a href="http://gravatar.com/emails" target=_blank>change</a>
		</div>

	</div>
</div>
